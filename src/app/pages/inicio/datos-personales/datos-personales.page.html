<ion-header [translucent]="true">
  <ion-toolbar>
    <!--Menu de la busqueda-->
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <!--El buscador-->
    <ion-searchbar slot="end" animated="true" placeholder="Buscar"></ion-searchbar>
    <!--este es el menu del usuario-->
    <ion-chip id="popover-button" slot="end" size="90px">
      <ion-avatar>
        <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
      </ion-avatar>
      <ion-label>Cuenta</ion-label>
    </ion-chip>
    <ion-popover trigger="popover-button" [dismissOnSelect]="true">
      <ng-template>
        <ion-content>
          <ion-list>
            <ion-item [button]="true" [detail]="false" [routerLink]="['/datos-personales']">Perfil</ion-item>
            <ion-item [button]="true" [detail]="false" [routerLink]="['/']">Mis compras</ion-item>
            <ion-item [button]="true" [detail]="false" [routerLink]="['/home']">Cerrar Sesi贸n</ion-item>

            <ion-popover trigger="nested-trigger" [dismissOnSelect]="true" side="end">
              <ng-template>
                <ion-content>
                  <ion-list>
                    <ion-item [button]="true" [detail]="false">Nested option</ion-item>
                  </ion-list>
                </ion-content>
              </ng-template>
            </ion-popover>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-popover>
  </ion-toolbar>
</ion-header>
<!--#############################################PRODUCTOS################################################-->
<style>
  /* Importar la fuente Montserrat */
  @import url('https://fonts.googleapis.com/css2?family=Tilt+Prism&display=swap');

  ion-card-title {
    font-family: 'Tilt Prism', cursive;
    font-size: 80px;
    display: flex;
    justify-content: center;

  }

  .container {
    display: flex;
    justify-content: center;
    /* Alineaci贸n horizontal al centro */
    align-items: center;
    /* Alineaci贸n vertical al centro */
    height: 150vh;
    /* Opcional: ajusta la altura del contenedor al 100% del viewport */
  }

  /*este es el fondo*/
  ion-content {
    --background: url(https://i.pinimg.com/originals/77/42/0d/77420df3f9e33db5b79ee25455d3340e.png);
  }
</style>

<ion-content class="fondo" [fullscreen]="true">
  <div class="container">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Datos personales</ion-card-title>
      </ion-card-header>
      <br>
      <ion-card-content>
        <form id="registration-form">

          <ion-item>
            <ion-label position="floating">Nombre:</ion-label>
            <ion-input type="text" name="nombre" minlength="3" maxlength="15" required (keydown)="onKeyDown($event)"
              [(ngModel)]="nombreValue" #nombreModel="ngModel">
            </ion-input>
          </ion-item>
          <div class="error-message" *ngIf="nombreModel.invalid && (nombreModel.dirty || nombreModel.touched)">
            <p *ngIf="nombreModel.errors?.['required']">El nombre es obligatorio</p>
            <p *ngIf="nombreModel.errors?.['minlength']">El nombre debe tener al menos 3 caracteres.</p>
            <p *ngIf="nombreModel.errors?.['maxlength']">El nombre no debe exceder los 15 caracteres.</p>
          </div>

          <ion-item>
            <ion-label position="floating">Apellido:</ion-label>
            <ion-input type="text" name="apellido" minlength="3" maxlength="15" required (keydown)="onKeyDown($event)"
              [(ngModel)]="apellidoValue" #apellidoModel="ngModel"></ion-input>
          </ion-item>
          <div class="error-message" *ngIf="apellidoModel.invalid && (apellidoModel.dirty || apellidoModel.touched)">
            <p *ngIf="apellidoModel.errors?.['required']">El nombre es obligatorio</p>
            <p *ngIf="apellidoModel.errors?.['minlength']">El nombre debe tener al menos 3 caracteres.</p>
            <p *ngIf="apellidoModel.errors?.['maxlength']">El nombre no debe exceder los 15 caracteres.</p>
          </div>
          <!--El required es para que solo se pueda ver y no cambiar el campo que ya esta escrito-->
          <ion-item>
            <ion-label position="floating">Correo electr贸nico</ion-label>
            <ion-input type="email" name="email" required readonly class="readonly-input"></ion-input>
          </ion-item>


          <ion-item>
            <ion-label position="floating" onlyread>Ingrese su Rut</ion-label>
            <ion-input type="text" name="rut" required readonly class="readonly-input"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Nombre de otra persona para retiro </ion-label>
            <ion-input type="text" name="segPersona" minlength="3" maxlength="15" [(ngModel)]="segPersonaValue"
              #segPersonaModel="ngModel">
            </ion-input>
          </ion-item>
          <div class="error-message"
            *ngIf="segPersonaModel.invalid && (segPersonaModel.dirty || segPersonaModel.touched)">
            <p *ngIf="segPersonaModel.errors?.['minlength']">El nombre debe tener al menos 3 caracteres.</p>
            <p *ngIf="segPersonaModel.errors?.['maxlength']">El nombre no debe exceder los 15 caracteres.</p>
          </div>

          
          <ion-button expand="full" type="submit">Guardar cambios</ion-button>

        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>